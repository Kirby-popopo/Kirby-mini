<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagram Clone - Dark Mode</title>
    <!-- ì‚¬ì´ë“œë°” css -->
    <link rel="stylesheet" href="/sidebar/sidebar.css">
    <!-- ë©”ë‰´ css -->
    <link rel="stylesheet" href="/sidebar/menu.css">
    <!-- ê³µí†µ ë² ì´ìŠ¤ css -->
    <link rel="stylesheet" href="/base.css">

    <!-- mainPage css -->
    <link rel="stylesheet" href="/mainPage/mainPage.css">

</head>
<body>
<h1>Welcome, <span th:text="${user.name}">User</span></h1>

    <!-- sidebar html ë¶ˆëŸ¬ì˜¤ê¸° -->
    <div id="sidebar-container"></div>

    <script>
        fetch('/sidebar/sidebar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('sidebar-container').innerHTML = data;
            })
            .catch(error => console.error('Error loading sidebar:', error));
    </script>
    <!-- sidebar html ë¶ˆëŸ¬ì˜¤ê¸° ë -->

    <div class="main-content">
        <div class="post">
            <div class="post-header">
                <img src="https://media.istockphoto.com/id/466167557/ko/%EC%82%AC%EC%A7%84/%EC%8B%A0%EC%83%9D%EC%95%84-chick.jpg?s=612x612&w=0&k=20&c=94vZS_L2t47Yb1DtHTYv1VBjVP6Ecu_SgmH79aCfEfE=" alt="ë³‘ì•„ë¦¬ í”„ë¡œí•„">
                <span class="username">ë³‘ì•„ë¦¬</span>
            </div>
            <div class="post-image">
                <img src="https://img.freepik.com/premium-photo/fried-rice-with-fried-egg-delicious-food-photography-illustration-created-with-generative-ai_115122-6028.jpg" alt="ê³„ë€í”„ë¼ì´">
            </div>
            <div class="post-actions">
                <button>â¤ï¸</button>
                <button>ğŸ’¬</button>
                <button>ğŸ”–</button>
            </div>
            <div class="post-likes">
                ë±€ë‹˜ ì™¸ 2ëª…ì´ ì¢‹ì•„í•©ë‹ˆë‹¤
            </div>
            <div class="post-content">
                <span class="username">ë³‘ì•„ë¦¬</span>
                <span class="content">2024-10-02</span>
                <span class="content" id="full-content" style="display: none;">ê°“ìƒì‚´ì<br>#ì•„ì¹¨ #ë§›ìˆë‹¤</span>
                <span class="more" id="show-more" onclick="toggleContent()">ë” ë³´ê¸°</span>
            </div>
            <div class="post-comments">
                <p>ëŒ“ê¸€ 2ê°œ</p>
                <div id="comments" style="display: none;">
                    <p><span class="username">ë±€</span> ë§›ìˆê² ë‹¤ :)</p>
                    <p><span class="username">ì‚¬ì</span> @í˜¸ë‘ì´ ê°“ìƒ ê°€ë³´ìê³ </p>
                </div>
                <span class="more" id="show-comments" onclick="toggleComments()">ëŒ“ê¸€ ëª¨ë‘ ë³´ê¸°</span>
            </div>
            <div class="comment-input">
                <input type="text" placeholder="ëŒ“ê¸€ ë‹¬ê¸°...">
            </div>
        </div>
    </div>

    <div id="createPostModal" class="modal">
        <div class="modal-content">
            <h2>ìƒˆ ê²Œì‹œë¬¼ ë§Œë“¤ê¸°</h2>
            <img src="https://img.icons8.com/ios/50/ffffff/image-and-video.png" alt="ì´ë¯¸ì§€ì™€ ë¹„ë””ì˜¤ ì•„ì´ì½˜">
            <p>ì‚¬ì§„ê³¼ ë™ì˜ìƒì„ ì—¬ê¸°ì— ëŒì–´ë‹¤ ë†“ìœ¼ì„¸ìš”</p>
            <button>ì»´í“¨í„°ì—ì„œ ì„ íƒ</button>
        </div>
    </div>

    <!-- ê²€ìƒ‰, ì•Œë¦¼ ê¸°ëŠ¥ ì‚¬ì´ë“œë°” -->
    <div id="menu-container"></div>

    <script>
        fetch('/sidebar/menu.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('menu-container').innerHTML = data;
            })
            .catch(error => console.error('Error loading menu:', error));
    </script>

    <script src="/sidebar/menu.js" type="text/javascript"></script>
    <!-- ê²€ìƒ‰, ì•Œë¦¼ ê¸°ëŠ¥ ì‚¬ì´ë“œë°” ë-->
    <script>
        <!-- ê²Œì‹œê¸€ ì»¨í…ì¸  í† ê¸€ê´€ë ¨ -->
       function toggleContent() {
           var fullContent = document.getElementById("full-content");
           var showMore = document.getElementById("show-more");
           if (fullContent.style.display === "none") {
               fullContent.style.display = "inline";
               showMore.textContent = "ìˆ¨ê¸°ê¸°";
           } else {
               fullContent.style.display = "none";
               showMore.textContent = "ë” ë³´ê¸°";
           }
       }

       function toggleComments() {
           var comments = document.getElementById("comments");
           var showComments = document.getElementById("show-comments");
           if (comments.style.display === "none") {
               comments.style.display = "block";
               showComments.textContent = "ëŒ“ê¸€ ìˆ¨ê¸°ê¸°";
           } else {
               comments.style.display = "none";
               showComments.textContent = "ëŒ“ê¸€ ëª¨ë‘ ë³´ê¸°";
           }
       }

       var createPostButton = document.getElementById("createPost");
       var modal = document.getElementById("createPostModal");

       createPostButton.onclick = function() {
           modal.style.display = "block";
       }

       window.onclick = function(event) {
           if (event.target == modal) {
               modal.style.display = "none";
           }
       }

    </script>
</body>
</html>